#反射

###三种获取反射的方式

1. 类名.class
2. 对象.getClass();
3. Class.forName("类全名")

**方法**

1. getConstructors();获取所有的构造方法

1. getConstructor（class...parmtype）;根据参数类型获取单个构造放法。

1. java.lang.reflect.Constructor
    
        newInstance(Object...parmtype);实例化，并且入参
    

----------
    
    public static void main(String[] args) {
    		// 类名.class
    		Class a = Dog.class;
    
    		Dog d = new Dog();
    		// 对象.getClass()
    		Class b = d.getClass();
    
    		try {
    			Class c = Class.forName("反射.Dog");
    		} catch (ClassNotFoundException e) {
    			e.printStackTrace();
    		}
    
    		Class<Dog> a1 = Dog.class;
    		// 获取Dog类的所有构造方法
    		Constructor[] cs = a1.getConstructors();
    		for (Constructor t : cs) {
    			System.out.println(t);
    		}
    
    		try {
    			// 获取参数是字符串的构造方法
    			Constructor cs1 = a1.getConstructor(new Class[] { String.class });
    
    			// 构造方法。实例化new构造，初始化属性
    			// Dog d=new Dog();
    			Object o = cs1.newInstance(new Object[] { "tom" });
    			Dog dd = (Dog) o;
    			dd.run();
    
    			// 获取所有的方法，包括继承的方法
    			Method[] ms = a1.getMethods();
    			for (Method i : ms) {
    				System.out.println(i);
    			}
    			System.out.println("----------------------------");
    			// 获取类本身声明的方法
    			Method[] ms1 = a1.getDeclaredMethods();
    			for (Method i : ms1) {
    				System.out.println(i);
    			}
    
    			// 获取指定的方法，第一个参数是方法名，第二个参数是参数列表
    			Method m1 = a1.getDeclaredMethod("run", null);
    			// 运行方法，第一个参数是Object对象，第二个参数是方法的参数列表
    			m1.invoke(o, null);
    
    			// 获取所有的属性，包括继承的
    			Field[] aa = a1.getFields();
    			// 获取本类声明的所有方法
    			Field[] bb = a1.getDeclaredFields();
    			// 获取本类中指定的属性
    			Field f = a1.getDeclaredField("name");
    			//私有属性不能修改，修改权限使其能修改
    			f.setAccessible(true);
    			f.set(o, "jack");
    			m1.invoke(o, null);
    
    		} catch (NoSuchMethodException e) {
    			e.printStackTrace();
    		} catch (SecurityException e) {
    			e.printStackTrace();
    		} catch (InstantiationException e) {
    			// TODO Auto-generated catch block
    			e.printStackTrace();
    		} catch (IllegalAccessException e) {
    			// TODO Auto-generated catch block
    			e.printStackTrace();
    		} catch (IllegalArgumentException e) {
    			// TODO Auto-generated catch block
    			e.printStackTrace();
    		} catch (InvocationTargetException e) {
    			// TODO Auto-generated catch block
    			e.printStackTrace();
    		} catch (NoSuchFieldException e) {
    			// TODO Auto-generated catch block
    			e.printStackTrace();
    		}
    	}
    }
    
    class Dog {
    	private String name;
    
    	public void run() {
    		System.out.println(name + "再跑");
    	}
    
    	public Dog(String name) {
    		super();
    		this.name = name;
    	}
    
    	public Dog() {
    		super();
    	}
    
    	public String getName() {
    		return name;
    	}
    
    	public void setName(String name) {
    		this.name = name;
    	}
    }